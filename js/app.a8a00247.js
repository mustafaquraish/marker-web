(function(t){function e(e){for(var a,o,n=e[0],l=e[1],c=e[2],u=0,m=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"013b":function(t,e,s){},"0894":function(t,e,s){},"12fb":function(t,e,s){},2394:function(t,e,s){"use strict";s("7011")},"295b":function(t,e,s){"use strict";s("ad3f")},"2d36":function(t,e,s){"use strict";s("97c5")},"3fb2":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="4678"},"4e03":function(t,e,s){"use strict";s("d572")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.markerState.loaded?t._e():s("v-app",[s("div",{staticClass:"waiting-app"},[s("v-progress-circular",{staticClass:"ma-5",attrs:{indeterminate:"",color:"green"}}),t._v(" Connecting to the server... ")],1)]),t.markerState.error?s("v-app",[s("div",{staticClass:"waiting-app"},[t._v(" There appears to be some issues connecting to the server. Please have a look at the output logs and get in touch if you are not able to resolve the issue. ")])]):t._e(),t.markerState.loaded&&!t.markerState.error?s("v-app",{staticStyle:{overflow:"hidden"},attrs:{id:"inspire"}},[s("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",{staticClass:"title"},[t._v(" Marker ")])],1)],1),s("v-divider"),t.markerState.valid?s("v-list",{attrs:{dense:"",nav:""}},[t._l(t.items,(function(e){return s("v-list-item",{key:e.title,attrs:{to:e.to,link:""}},[s("v-list-item-icon",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),s("v-divider",{staticClass:"my-2"})],2):t._e(),s("v-list",{attrs:{dense:"",nav:""}},t._l(t.items2,(function(e){return s("v-list-item",{key:e.title,attrs:{to:e.to,link:""}},[s("v-list-item-icon",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1)],1),s("v-app-bar",{attrs:{app:"",fixed:""}},[s("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),s("v-toolbar-title",[t._v("Marker")])],1),s("v-main",[t.markerState.loading?t._e():s("router-view")],1),s("Errors")],1):t._e()],1)},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root ma-0 pa-0 mr-0"},[s("div",{staticClass:"subcontainer"},[s("v-subheader",{staticClass:"title mb-2"},[t._v(" Select assignment directory "),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-icon",t._g(t._b({staticClass:"mx-5"},"v-icon",r,!1),a),[t._v("mdi-information-outline ")])]}}])},[s("span",[t._v("Should contain a valid config file")])])],1),s("div",{staticStyle:{display:"flex","flex-direction":"row"}},[s("span",{staticClass:"px-4"},[t._v("Current directory:")]),s("code",[t._v(t._s(t.shortDirName))])]),s("div",{staticClass:"dirControls my-2 mx-3"},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-icon",t._g(t._b({on:{click:t.getHome}},"v-icon",r,!1),a),[t._v(" mdi-folder-home ")])]}}])},[s("span",[t._v("Home Directory")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-icon",t._g(t._b({on:{click:t.getParent}},"v-icon",r,!1),a),[t._v(" mdi-folder-upload ")])]}}])},[s("span",[t._v("Parent Directory")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-icon",t._g(t._b({attrs:{color:"teal"},on:{click:t.clickFav}},"v-icon",r,!1),a),[t._v(" "+t._s(t.isFavorite?"mdi-star":"mdi-star-outline")+" ")])]}}])},[t.isFavorite?s("span",[t._v("Remove Favorite")]):t._e(),t.isFavorite?t._e():s("span",[t._v("Add Favorite")])]),s("v-spacer"),s("v-checkbox",{staticClass:"ma-0",attrs:{label:"Show Hidden Files"},model:{value:t.hidden,callback:function(e){t.hidden=e},expression:"hidden"}})],1),s("div",{staticClass:"innerc"},[s("FileList",{staticClass:"split left",attrs:{values:t.values},on:{folderClicked:t.clickedItem}}),s("FavoritesList",{staticClass:"split right",attrs:{values:t.favorites},on:{folderClicked:t.selectedFav,removeFav:t.removeFav}})],1),s("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center"}},[s("v-btn",{staticClass:"mt-3",attrs:{width:"250px"},on:{click:t.selectClick}},[t.selectLoading?s("v-progress-circular",{attrs:{size:"20",indeterminate:"",color:"green"}}):t._e(),t.selectLoading?t._e():s("span",[t._v("Select this directory...")])],1)],1),s("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v(" Invalid Directory ")]),s("v-card-text",{staticClass:"mt-5"},[t._v(" The directory you selected ("),s("code",[t._v(t._s(t.directory))]),t._v(") does not contain a valid configuration file. Please select a valid directory to see results, or make sure that the configuration file is a valid YAML file. ")]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{dense:"",id:"closeDialog"},on:{click:function(e){t.dialog=!t.dialog}}},[s("span",[t._v("Close")])])],1)],1)],1)],1)])},n=[],l=s("bc3a"),c=s.n(l);const d={name:"/",path:"/",dir:!0,entries:{".hidden":{name:".hidden",path:"/.hidden",dir:!1},"world.txt":{name:"world.txt",path:"/world.txt",dir:!1},etc:{name:"etc",path:"/etc",dir:!0,entries:{shadow:{name:"shadow",path:"/etc/shadow",dir:!1},defaults:{name:"defaults",path:"/etc/defaults",dir:!0,entries:{}},"hello.txt":{name:"hello.txt",path:"/etc/hello.txt",dir:!1},passwd:{name:"passwd",path:"/etc/passwd",dir:!1}}},Users:{name:"Users",path:"/Users",dir:!0,entries:{user2:{name:"user2",path:"/Users/user2",dir:!0,entries:{"file.txt":{name:"file.txt",path:"/Users/user2/file.txt",dir:!1}}},user1:{name:"user1",path:"/Users/user1",dir:!0,entries:{"stuff.py":{name:"stuff.py",path:"/Users/user1/stuff.py",dir:!1},".bashrc":{name:".bashrc",path:"/Users/user1/.bashrc",dir:!1},Desktop:{name:"Desktop",path:"/Users/user1/Desktop",dir:!0,entries:{}},".vimrc":{name:".vimrc",path:"/Users/user1/.vimrc",dir:!1},Documents:{name:"Documents",path:"/Users/user1/Documents",dir:!0,entries:{A1:{name:"A1",path:"/Users/user1/Documents/A1",dir:!0,entries:{Makefile:{name:"Makefile",path:"/Users/user1/Documents/A1/Makefile",dir:!1},"tests.cpp":{name:"tests.cpp",path:"/Users/user1/Documents/A1/tests.cpp",dir:!1},"config.yml":{name:"config.yml",path:"/Users/user1/Documents/A1/config.yml",dir:!1}}}}},Downloads:{name:"Downloads",path:"/Users/user1/Downloads",dir:!0,entries:{}}}}}},Applications:{name:"Applications",path:"/Applications",dir:!0,entries:{"VSCode.app":{name:"VSCode.app",path:"/Applications/VSCode.app",dir:!1},"Brave.app":{name:"Brave.app",path:"/Applications/Brave.app",dir:!1},Utilities:{name:"Utilities",path:"/Applications/Utilities",dir:!0,entries:{"Calculator.app":{name:"Calculator.app",path:"/Applications/Utilities/Calculator.app",dir:!1}}}}},"hello.txt":{name:"hello.txt",path:"/hello.txt",dir:!1}}};var u=["/Users/user1","/Users/user1/Documents/A1"];function m(t,e){let s={path:t.join("/"),entries:[]},a=t.reduce((t,e)=>{if(t)return""==e||0==e.length?t:t.entries[e]},d);if(!a)return;for(let[o,n]of Object.entries(a.entries))!e&&o.startsWith(".")||s.entries.push({name:o,path:n.path,dir:n.dir});let r=t.slice(0,t.length-1),i=1==r.length?"/":r.join("/");return s.entries.push({name:"..",path:i,dir:!0}),s.entries.sort((t,e)=>t.dir==e.dir?t.name.toLowerCase()<e.name.toLowerCase()?-1:1:t.dir?-1:1),s}function p(t,e){let s=t.split("/");return m(s,e)}function h(t){let e=t.split("/");return e[e.length-1]}var v={async getPath(t,e=!1){return p(t,e)},async getParent(t,e=!1){let s=t.split("/");return s=s.splice(0,s.length-1),m(s,e)},async getHome(t=!1){return p("/Users/user1",t)},async getFavorites(){return u.map(t=>({name:h(t),path:t}))},async addFavorite(t){return u.includes(t)||u.push(t),this.getFavorites()},async delFavorite(t){const e=u.indexOf(t);return e>-1&&u.splice(e,1),this.getFavorites()}},f=s("2f62");const g={tests:[{description:"2 values",output:"Closest pair not correct\n",exit_code:1,passed:!1,timed_out:!1,mark:0,out_of:1},{description:"3 values",output:"Closest pair not correct\n",exit_code:1,passed:!1,timed_out:!1,mark:0,out_of:1},{description:"8 values",output:"",exit_code:0,passed:!0,timed_out:!1,mark:1,out_of:1},{description:"Closest pair in right subtree",output:"",exit_code:0,passed:!0,timed_out:!1,mark:1,out_of:1},{description:"Takes too long to run",output:"",exit_code:null,passed:!1,timed_out:!0,mark:0,out_of:1},{description:"Closest pair root and max of left",output:"",exit_code:0,passed:!0,timed_out:!1,mark:1,out_of:1},{description:"Running another test...",output:"Sleeping...\nSleeping...\nSleeping...\nSleeping...\nSleeping...\n",exit_code:null,passed:!1,timed_out:!0,mark:0,out_of:2},{description:"100 (random) values",output:"Closest pair not correct\n",exit_code:1,passed:!1,timed_out:!1,mark:0,out_of:2}],marks:[0,0,1,1,1,0],out_of:10,compile_log:"closest.c:143:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]\n}\n^\nclosest.c:292:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]\n}\n^\nclosest.c:342:1: warning: non-void function does not return a value [-Wreturn-type]\n}\n^\nclosest.c:393:1: warning: non-void function does not return a value [-Wreturn-type]\n}\n^\n4 warnings generated.\n",compiled:!0,total:3},b={assgn_dir:"A1/",course:null,assignment:"A1",base_url:"https://markus.utsc.utoronto.ca/cscb63w21",compile:"rm -f tests\ngcc testing/tests.c closest.c -o tests\n",compile_check:"ls ./tests",compile_log:"compile.log",config:"testing//config.yml",default_criteria:"tests",file_names:["closest.c"],imports:["testing"],include_compile_log:!0,lms:"markus",marksheet:"marksheet.yml",report:"report.txt",report_header:"********************************************************************************\n                            A1 Automarker Report\n********************************************************************************",src_dir:"A1/",tests:[{after:null,before:null,command:"./tests two_values",criteria:"tests",description:"2 values",exit_code:0,mark:1,output:!0,timeout:1},{after:null,before:null,command:"./tests three_values",criteria:"tests",description:"3 values",exit_code:0,mark:1,output:!0,timeout:1},{after:null,before:null,command:"./tests eight_values",criteria:"tests",description:"8 values",exit_code:0,mark:1,output:!0,timeout:1},{after:null,before:null,command:"./tests closest_in_right_subtree",criteria:"tests",description:"Closest pair in right subtree",exit_code:0,mark:1,output:!0,timeout:1},{after:null,before:null,command:"./tests closest_in_root_and_left",criteria:"tests",description:"Closest pair root and max of left",exit_code:0,mark:1,output:!0,timeout:1},{after:null,before:null,command:"./tests one_hundred_values",criteria:"tests",description:"100 (random) values",exit_code:0,mark:1,output:!0,timeout:1}]};function k(){var t="Unknown";return-1!=window.navigator.userAgent.indexOf("Windows NT 10.0")&&(t="Windows 10"),t.includes("Windows")?"c:/":"/"}function _(t){return new Promise(e=>setTimeout(e,t))}var C={name:"Download",progress:100,total:100,done:!0,errors:!1,killed:!1,logs:"hhh"},y="/Users/user1/Documents/A1";function S(t){return Promise.reject({response:{data:{message:t}}})}var j={async noop(){return{}},async getMarkerState(){let t="/Users/user1/Documents/A1"==y;return{valid:t,path:y,config:t?b:void 0}},async setMarkerPath(t){if(y=t.slice(),"/Users/user1/Documents/A1"==y)return{OK:"OK"};throw Error("Invalid Dir")},async getAllResults(){let t=[{username:"john",marks:[2,0,1,0,1]},{username:"helen",marks:[]},{username:"smith",marks:[2,0,2,0,0]},{username:"lucy",marks:[0,2,0,0,1]},{username:"james",marks:[5,2,1,0,0]},{username:"ben",marks:[]},{username:"kate",marks:[4,1,0,1,0]}];for(let e=0;e<2;e++)t=t.concat(t);return t},async getStudentResults(t){return await _(500),{data:JSON.stringify(g),path:k(),marked:"true"}},async getStats(){return{total_marked:248,compile_success:153,compile_failed:95,out_of:6,all:{mean:2.91,median:3},compiled:{mean:4.72,median:6},distribution:{0:108,1:8,2:7,3:4,4:7,5:23,6:91}}},async runTestsSingle(t,e){return await _(500),this.getStudentResults(t)},async downloadSingle(t,e){return await _(1e3),{OK:":)"}},async getConfig(){return await _(200),b},async runJob(t="Downloading"){return 0==C.done?S("busy"):(C.name=t,C.progress=0,C.killed=!1,C.done=!1,C.logs="",C.total=100,{started:"ok"})},async getJob(){let t=C.progress>=100||C.killed;return t||(C.progress+=Math.floor(20*Math.random()),C.logs+="Example log: "+C.progress.toString()+"%\n",C.progress>100&&(C.progress=100,C.logs+="Job finished! :)"),t=C.progress>=100),C.done=t,C},async stopJob(){return C.done||(C.killed=!0,C.total=0,C.progress=0),await _(1),{ok:"dude"}}};const x="http://127.0.0.1:5000/api/marker";var w={async getMarkerState(){return M(()=>c.a.get(x+"/state"),()=>j.getMarkerState())},async setMarkerPath(t){return M(()=>c.a.post(x+"/state",null,{params:{path:t}}),()=>j.setMarkerPath(t))},async saveToken(t){return M(()=>c.a.post(x+"/tokens",null,{params:{token:t}}),()=>j.noop())},async getAllResults(){return M(()=>c.a.get(x+"/results"),()=>j.getAllResults())},async getStudentResults(t){return M(()=>c.a.get(x+"/results/"+t),()=>j.getStudentResults())},async getStats(){return M(()=>c.a.get(x+"/stats"),()=>j.getStats())},async downloadSingle(t,e){return M(()=>c.a.post(x+"/download/"+t,null,{params:{allow_late:e}}),()=>j.downloadSingle())},async downloadAll(t,e){return M(()=>c.a.post(x+"/download",t,{params:{allow_late:e}}),()=>j.runJob("Downloading Submissions"))},async prepareSingle(t){return M(()=>c.a.post(x+"/prepare/"+t,null),()=>j.downloadSingle())},async prepareAll(t){return M(()=>c.a.post(x+"/prepare",t),()=>j.runJob("Preparing Submissions"))},async runTestsSingle(t,e){return M(()=>c.a.post(x+"/run/"+t,null,{params:{recompile:e}}),()=>j.runTestsSingle())},async runTestsAll(t,e){return M(()=>c.a.post(x+"/run",t,{params:{recompile:e}}),()=>j.runJob("Running tests"))},async uploadMarksSingle(t){return M(()=>c.a.post(x+"/upload-marks/"+t,null),()=>j.downloadSingle())},async uploadMarksAll(t){return M(()=>c.a.post(x+"/upload-marks",t),()=>j.runJob("Uploading Marks"))},async uploadReportsSingle(t){return M(()=>c.a.post(x+"/upload-reports/"+t,null),()=>j.downloadSingle())},async uploadReportsAll(t){return M(()=>c.a.post(x+"/upload-reports",t),()=>j.runJob("Uploading Reports"))},async deleteReportsSingle(t){return M(()=>c.a.post(x+"/delete-reports/"+t,null),()=>j.downloadSingle())},async deleteReportsAll(t){return M(()=>c.a.post(x+"/delete-reports",t),()=>j.runJob("Deleting Reports"))},async setStatusSingle(t,e){return M(()=>c.a.post(x+"/set-status/"+e,null,{params:{status:t}}),()=>j.downloadSingle())},async setStatusAll(t,e){return M(()=>c.a.post(x+"/set-status",e,{params:{status:t}}),()=>j.runJob("Setting status "+t))},async getConfig(){return M(()=>c.a.get(x+"/config"),()=>j.getConfig())},async getJob(){return M(()=>c.a.get(x+"/progress"),()=>j.getJob())},async runJob(){return M(()=>j.runJob(),()=>j.runJob())},async stopJob(){return M(()=>c.a.post(x+"/stopjob"),()=>j.stopJob())}};a["a"].use(f["a"]);var V=new f["a"].Store({state:{isMobile:innerWidth<=700,markerState:{loaded:!1,valid:!1,path:null,config:void 0,error:!1},tokenDialog:!1,errorDialog:!1,errorMessage:"Unknown error occurred.",errorTitle:"Error",snackBar:!1,snackMessage:"Unknown Error"},mutations:{updateMobile(t){t.isMobile=innerWidth<=700},updateMarkerState(t,{data:e,error:s}){t.markerState=e,t.markerState["error"]=s,t.markerState["loaded"]=!0},setTokenDialog(t,e){t.tokenDialog=e},setErrorDialog(t,e){t.errorDialog=e},setErrorMessage(t,e){t.errorMessage=e},setErrorTitle(t,e){t.errorTitle=e},setSnackBar(t,e){t.snackBar=e},setSnackMessage(t,e){t.snackMessage=e}},actions:{async showSnackBar({commit:t},e="Unknown Error"){let s=0;this.state.snackBar&&(t("setSnackBar",!1),s=100),t("setSnackMessage",e),setTimeout(()=>{t("setSnackBar",!0)},s)},async showErrorDialog({commit:t},e){let s=e.message,a=e.title||"Error";t("setErrorMessage",s),t("setErrorTitle",a),t("setErrorDialog",!0)},async fetchMarkerState({commit:t},e){try{let s=await e();t("updateMarkerState",{data:s,error:!1})}catch(s){t("updateMarkerState",{data:{},error:!0})}}},modules:{}}),T=!1;async function D(t,e){if(T)return await e();try{let e=await t();return e.data}catch(s){return s.response?(console.log("Error occured, but caller should handle this one..."),Promise.reject(s)):(T=!0,console.log("Could not connect to server, defaulting to fake data"),e())}}async function M(t,e){try{return await D(t,e)}catch(s){if(!s.response.data||!s.response.data.message)return V.dispatch("showSnackBar","Unknown error"),Promise.reject(s);let t=s.response.data.message;return"no_token"==t?V.commit("setTokenDialog",!0):"busy"==t?V.dispatch("showSnackBar","Another job is currently running."):(V.dispatch("showErrorDialog",{message:s.response.data.message}),V.commit("setErrorMessage",s.response.data.message)),Promise.reject(s)}}const A="http://127.0.0.1:5000/api/explorer";var I={async getPath(t,e=!1){return M(()=>c.a.get(A+"/path",{params:{path:t,hidden:e}}),()=>v.getPath(t,e))},async getParent(t,e=!1){return M(()=>c.a.get(A+"/parent",{params:{path:t,hidden:e}}),()=>v.getParent(t,e))},async getHome(t=!1){return M(()=>c.a.get(A+"/path",{params:{hidden:t}}),()=>v.getHome(t))},async getFavorites(){return M(()=>c.a.get(A+"/favorites"),()=>v.getFavorites())},async addFavorite(t){return M(()=>c.a.post(A+"/favorites",null,{params:{path:t}}),()=>v.addFavorite(t))},async delFavorite(t){return M(()=>c.a.delete(A+"/favorites",{params:{path:t}}),()=>v.delFavorite(t))}},R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list",{staticClass:"dirlist",attrs:{flat:"",nav:"",dense:""}},[s("v-divider"),s("v-list-item-group",{staticClass:"listitems",attrs:{color:"primary"}},t._l(t.values,(function(e,a){return s("div",{key:a},[s("v-list-item",{staticClass:"mb-0",on:{click:function(s){return t.clickedItem(e)}}},[s("v-list-item-icon",[e.dir?s("v-icon",[t._v("mdi-folder")]):t._e(),e.dir?t._e():s("v-icon",[t._v("mdi-file-outline")])],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1),s("v-divider")],1)})),0)],1)},L=[],$={props:{values:Array},methods:{clickedItem(t){t.dir&&this.$emit("folderClicked",t)}}},F=$,U=(s("9704"),s("2877")),P=s("6544"),E=s.n(P),O=s("ce7e"),B=s("132d"),J=s("8860"),z=s("da13"),N=s("5d23"),H=s("1baa"),W=s("34c3"),G=Object(U["a"])(F,R,L,!1,null,"36cbdd1a",null),q=G.exports;E()(G,{VDivider:O["a"],VIcon:B["a"],VList:J["a"],VListItem:z["a"],VListItemContent:N["a"],VListItemGroup:H["a"],VListItemIcon:W["a"],VListItemTitle:N["c"]});var K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list",{staticClass:"dirlist",attrs:{flat:"",nav:"",dense:""}},[s("v-divider"),s("v-list-item-group",{staticClass:"listitems",attrs:{color:"primary"}},t._l(t.values,(function(e,a){return s("div",{key:a},[s("v-list-item",{staticClass:"mb-0",on:{click:function(s){return t.clickedItem(e)}}},[s("v-list-item-icon",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[s("v-icon",t._g(t._b({attrs:{color:"teal"},on:{click:function(s){return s.stopPropagation(),t.clickedStar(e)}}},"v-icon",i,!1),r),[t._v(" mdi-star ")])]}}],null,!0)},[t._v(" Remove Favorite ")])],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1),s("v-divider")],1)})),0)],1)},Z=[],Y={props:{values:Array},methods:{clickedItem(t){this.$emit("folderClicked",t)},clickedStar(t){this.$emit("removeFav",t)}}},Q=Y,X=(s("4e03"),s("3a2f")),tt=Object(U["a"])(Q,K,Z,!1,null,"5a10a40c",null),et=tt.exports;E()(tt,{VDivider:O["a"],VIcon:B["a"],VList:J["a"],VListItem:z["a"],VListItemContent:N["a"],VListItemGroup:H["a"],VListItemIcon:W["a"],VListItemTitle:N["c"],VTooltip:X["a"]});var st={components:{FavoritesList:et,FileList:q},data:()=>({values:[],directory:"",hidden:!1,dialog:!1,selectLoading:!1,favorites:[],fav:!1}),beforeMount(){let t=this.$store.state.markerState.path;I.getPath(t).then(t=>{this.directory=t.path,this.values=t.entries}),this.doRequestFav(()=>I.getFavorites())},computed:{shortDirName(){let t=60;return this.directory.length>t?"..."+this.directory.substring(this.directory.length-t):this.directory},isFavorite(){return this.favorites.reduce((t,e)=>t||e.path==this.directory,!1)}},watch:{hidden(){this.doRequestPath(()=>I.getPath(this.directory,this.hidden))}},methods:{doRequestPath(t){t().then(t=>{this.directory=t.path,this.values=t.entries})},doRequestFav(t){t().then(t=>{this.favorites=t})},clickedItem(t){t.dir&&this.doRequestPath(()=>I.getPath(t.path,this.hidden))},getParent(){this.doRequestPath(()=>I.getParent(this.directory,this.hidden))},getHome(){this.doRequestPath(()=>I.getHome(this.hidden))},clickFav(){this.isFavorite?this.doRequestFav(()=>I.delFavorite(this.directory)):this.doRequestFav(()=>I.addFavorite(this.directory))},removeFav(t){this.doRequestFav(()=>I.delFavorite(t.path))},selectedFav(t){this.doRequestPath(()=>I.getPath(t.path,this.hidden))},async selectClick(){this.selectLoading=!0;let t=!1;try{await w.setMarkerPath(this.directory),t=!0}catch(e){this.dialog=!0}finally{await this.$store.dispatch("fetchMarkerState",()=>w.getMarkerState()),this.selectLoading=!1}t&&this.$router.push("/")}}},at=st,rt=(s("e223"),s("8336")),it=s("b0af"),ot=s("99d9"),nt=s("ac7c"),lt=s("169a"),ct=s("490a"),dt=s("2fa4"),ut=s("e0c7"),mt=Object(U["a"])(at,o,n,!1,null,"91349496",null),pt=mt.exports;E()(mt,{VBtn:rt["a"],VCard:it["a"],VCardActions:ot["a"],VCardText:ot["b"],VCardTitle:ot["c"],VCheckbox:nt["a"],VDialog:lt["a"],VDivider:O["a"],VIcon:B["a"],VProgressCircular:ct["a"],VSpacer:dt["a"],VSubheader:ut["a"],VTooltip:X["a"]});var ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{width:"80%"},model:{value:t.tokenDialog,callback:function(e){t.tokenDialog=e},expression:"tokenDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Missing token")]),s("v-card-text",{staticClass:"mt-2",staticStyle:{"font-size":"12pt"}},[t._v(" Enter the access token below for "),s("code",[t._v(t._s(t.baseURL))]),t._v(". "),s("br"),s("v-text-field",{staticClass:"my-4",attrs:{"hide-details":"",label:"Access Token",placeholder:"Enter token here",outlined:""},model:{value:t.tokenInput,callback:function(e){t.tokenInput=e},expression:"tokenInput"}}),t._v(" Token will be saved in "),s("code",[t._v("~/.config/marker/tokens.json")])],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:t.tokenClick}},[t._v(" Save Token ")])],1)],1)],1),s("v-dialog",{staticClass:"errordialog",attrs:{width:"80%"},model:{value:t.errorDialog,callback:function(e){t.errorDialog=e},expression:"errorDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v(t._s(t.errorTitle))]),s("v-card-text",{staticClass:"my-5 mb-0",staticStyle:{"font-size":"12pt"}},[s("pre",{staticStyle:{"background-color":"#f5f5f5"}},[t._v(t._s(t.errorMessage))])]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.errorDialog=!1}}},[t._v(" Close ")])],1)],1)],1),s("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackBar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v(" "+t._s(t.snackMessage)+" ")])],1)},vt=[],ft={name:"Errors",data:()=>({tokenInput:""}),computed:{tokenDialog:{get:function(){return this.$store.state.tokenDialog},set:function(t){this.$store.commit("setTokenDialog",t)}},errorDialog:{get:function(){return this.$store.state.errorDialog},set:function(t){this.$store.commit("setErrorDialog",t)}},snackBar:{get:function(){return this.$store.state.snackBar},set:function(t){this.$store.commit("setSnackBar",t)}},errorMessage(){return this.$store.state.errorMessage},errorTitle(){return this.$store.state.errorTitle},snackMessage(){return this.$store.state.snackMessage},baseURL(){return this.$store.state.markerState.config?this.$store.state.markerState.config.base_url:""}},methods:{tokenClick(){w.saveToken(this.tokenInput).then(()=>{this.tokenDialog=!1,this.tokenInput=""})}}},gt=ft,bt=(s("ad58"),s("2db4")),kt=s("8654"),_t=Object(U["a"])(gt,ht,vt,!1,null,"fc609328",null),Ct=_t.exports;E()(_t,{VBtn:rt["a"],VCard:it["a"],VCardActions:ot["a"],VCardText:ot["b"],VCardTitle:ot["c"],VDialog:lt["a"],VDivider:O["a"],VSnackbar:bt["a"],VSpacer:dt["a"],VTextField:kt["a"]});var yt={components:{FileExplorer:pt,Errors:Ct},data:()=>({drawer:null,items:[{title:"Dashboard ",icon:"mdi-view-dashboard",to:"/"},{title:"Results",icon:"mdi-list-status",to:"/results"},{title:"Stats",icon:"mdi-chart-bar-stacked",to:"/stats"},{title:"Settings ",icon:"mdi-help-box",to:"/settings"}],items2:[{title:"Change Directory ",icon:"mdi-folder-outline",to:"/explorer"}],right:null}),computed:{markerState(){return this.$store.state.markerState}},created(){addEventListener("resize",()=>{this.$store.commit("updateMobile")})},metaInfo:{title:"Marker",titleTemplate:"%s | Marker"}},St=yt,jt=(s("295b"),s("7496")),xt=s("40dc"),wt=s("5bc1"),Vt=s("f6c4"),Tt=s("f774"),Dt=s("2a7f"),Mt=Object(U["a"])(St,r,i,!1,null,"128f5db9",null),At=Mt.exports;E()(Mt,{VApp:jt["a"],VAppBar:xt["a"],VAppBarNavIcon:wt["a"],VDivider:O["a"],VIcon:B["a"],VList:J["a"],VListItem:z["a"],VListItemContent:N["a"],VListItemIcon:W["a"],VListItemTitle:N["c"],VMain:Vt["a"],VNavigationDrawer:Tt["a"],VProgressCircular:ct["a"],VToolbarTitle:Dt["a"]});var It=s("8c4f"),Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("splitpanes",{staticClass:"root",attrs:{vertical:""}},[s("pane",{attrs:{size:"40%","min-size":"30%"}},[t.loading?s("div",{staticClass:"text-center mt-10"},[s("v-progress-circular",{attrs:{indeterminate:"",color:"green"}})],1):t._e(),t.loading?t._e():s("SearchableUsers",{attrs:{items:t.items},on:{userClicked:t.onUserClick}})],1),t.mobile?t._e():s("pane",{attrs:{"min-size":"30%"}},[s("UserResult",{attrs:{username:t.selectedUsername},on:{updateMarks:t.updateMarks}})],1)],1)},Lt=[],$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"outerc"},[s("SearchBar",{staticClass:"px-4 pt-7",attrs:{label:"Search users"},on:{searchChanged:t.onSearchChange}}),0==this.items.length?s("div",{staticClass:"container infomessage"},[t._v(" No users found. Try downloading submissions first. "),s("v-btn",{staticClass:"ma-5 pa-5",on:{click:function(e){return t.$router.push("/")}}},[s("v-icon",{staticClass:"pr-2"},[t._v(" mdi-arrow-top-left-thick ")]),t._v(" Go to Dashboard ")],1)],1):t._e(),s("v-list",{staticClass:"userlist mb-10",attrs:{nav:""}},[s("v-list-item-group",{attrs:{color:"indigo"},model:{value:t.selectedIndex,callback:function(e){t.selectedIndex=e},expression:"selectedIndex"}},t._l(t.items,(function(e,a){return s("div",{key:a,attrs:{hidden:t.hidden(e)}},[s("v-list-item",{staticClass:"ma-0 py-1 px-5",on:{click:function(s){return t.clickedItem(e.username)}}},[s("v-list-item-avatar",[s("v-avatar",{attrs:{color:"#90CAF9",dark:""}},[t._v(" "+t._s(t.iconText(e.username))+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(" "+t._s(e.username)+" ")]),e.marks?s("v-list-item-subtitle",[t._v(t._s(t.sum(e.marks))+" / "+t._s(t.totalMarks)+" marks")]):t._e(),e.marks?t._e():s("v-list-item-subtitle",[t._v(" Unmarked")])],1)],1),s("v-divider")],1)})),0)],1)],1)},Ft=[],Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-text-field",{attrs:{label:t.label,filled:"",rounded:"",dense:"","append-icon":"mdi-magnify",autocomplete:"off"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.searchTerm=""}},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}})},Pt=[],Et={name:"SearchBar",props:{label:String},data:()=>({searchTerm:""}),watch:{searchTerm:function(t){this.$emit("searchChanged",this.searchTerm)}}},Ot=Et,Bt=Object(U["a"])(Ot,Ut,Pt,!1,null,null,null),Jt=Bt.exports;function zt(t){let e=0;for(let s=0;s<t.length;s++)e+=t[s];return e}function Nt(t){if(t.includes(".")){let e=t.split(".");return(e[0][0]+e[1][0]).toUpperCase()}return t.substring(0,2).toUpperCase()}E()(Bt,{VTextField:kt["a"]});var Ht={name:"Home",props:{items:Array},components:{SearchBar:Jt},data:()=>({searchTerm:"",selectedIndex:0}),mounted(){this.items.length>0&&this.clickedItem(this.items[this.selectedIndex].username)},computed:{totalMarks(){return this.$store.state.markerState.config.tests.reduce((t,e)=>t+e.mark,0)}},methods:{onSearchChange(t){this.searchTerm=t},clickedItem(t){this.$emit("userClicked",t)},iconText(t){if(t.includes(".")){let e=t.split(".");return(e[0][0]+e[1][0]).toUpperCase()}return t.substring(0,2).toUpperCase()},sum:zt,iconText:Nt,hidden(t){let e=t.username.toLowerCase();if(!this.searchTerm.startsWith(":")&&!this.searchTerm.startsWith("."))return!e.includes(this.searchTerm.toLowerCase());let s="";return t.marks?(0===t.marks.length&&(s+="failed"),0==zt(t.marks)&&(s+="zero")):s+="unmarked",!s.includes(this.searchTerm.slice(1).toLowerCase())}}},Wt=Ht,Gt=s("8212"),qt=s("8270"),Kt=Object(U["a"])(Wt,$t,Ft,!1,null,null,null),Zt=Kt.exports;E()(Kt,{VAvatar:Gt["a"],VBtn:rt["a"],VDivider:O["a"],VIcon:B["a"],VList:J["a"],VListItem:z["a"],VListItemAvatar:qt["a"],VListItemContent:N["a"],VListItemGroup:H["a"],VListItemSubtitle:N["b"],VListItemTitle:N["c"]});var Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"single-results"},[t.username?s("v-app-bar",[t.mobile?s("v-icon",{on:{click:function(e){return t.$router.go(-1)}}},[t._v(" mdi-arrow-left ")]):t._e(),s("v-spacer"),s("v-toolbar-title",[t._v(" "+t._s(t.username.toUpperCase())+" ")]),s("v-spacer")],1):t._e(),t.username?s("div",[s("v-row",{staticClass:"ma-5",attrs:{align:"center",justify:"space-around"}},[s("v-btn",{staticClass:"ma-2",attrs:{color:"#90CAF9",width:"200"},on:{click:function(e){return t.runTests(!1)}}},[t._v(" Prepare Submission ")]),s("v-btn",{staticClass:"ma-2",attrs:{color:"#90CAF9",width:"200"},on:{click:function(e){return t.runTests(!0)}}},[t._v(" Recompile and Run ")]),s("v-btn",{staticClass:"ma-2",attrs:{color:"#bbd565",width:"200"},on:{click:t.reDownload}},[t.downloading?t._e():s("span",[t._v(" Re-Download files ")]),t.downloading?s("v-progress-circular",{attrs:{indeterminate:"",color:"green",size:"20"}}):t._e()],1),s("v-btn",{staticClass:"ma-2",attrs:{color:"#ca85d6",width:"200",target:"_blank",disabled:!t.result||!t.result.path,href:"vscode://file/"+t.dirPath}},[t._v(" Open in VSCode ")])],1)],1):t._e(),t.username&&t.loading?s("div",{staticClass:"text-center mt-10"},[s("v-progress-circular",{attrs:{indeterminate:"",color:"green"}})],1):t._e(),t.result&&!t.result.marked?s("div",{staticClass:"container infomessage"},[t._v(" Submission is not marked yet. ")]):t._e(),t.result&&t.result.marked&&!t.loading&&!t.result.json?s("div",[s("pre",[t._v(t._s(t.result.text))])]):t._e(),t.result&&t.result.marked&&!t.loading&&t.result.json?s("div",[s("body",{staticClass:"body-1 mt-0 mx-5 mb-1"},[s("v-progress-linear",{staticStyle:{"border-radius":"30px"},attrs:{height:"50",value:100*t.result.total/t.result.out_of,color:0==t.result.total?"red lighten-2":"#bbd565"}},[t._v(" Total: "+t._s(t.result.total)+" / "+t._s(t.result.out_of)+" marks ")])],1),s("v-list-group",{staticClass:"mt-5",scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",{attrs:{color:t.result.compiled?"success":"error"}},[t._v(" "+t._s(t.result.compiled?"mdi-check":"mdi-close")+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(" Compilation "+t._s(t.result.compiled?"Succeeded":"Failed")+" ")])],1)]},proxy:!0}],null,!1,2643159426)},[s("div",{staticClass:"pa-5",staticStyle:{color:"black","background-color":"#f5f5f5"}},[""!=t.result.compile_log?s("div",[s("li",[t._v("Compilation Logs:")]),s("pre",[t._v(t._s(t.result.compile_log))])]):t._e(),""==t.result.compile_log?s("span",[s("li",[t._v("No compilation output was generated.")])]):t._e()])]),s("v-divider"),s("v-divider"),t.result.compiled?s("SearchableTests",{staticClass:"mb-10",attrs:{tests:t.result.tests}}):t._e()],1):t._e()],1)},Qt=[],Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("SearchBar",{staticClass:"px-4 pt-6",attrs:{label:"Search tests"},on:{searchChanged:t.onSearchChange}}),s("v-divider"),s("v-list",{staticClass:"py-0 testlist"},[s("v-list-item-group",{attrs:{mandatory:"",color:"indigo"}},t._l(t.filteredTests,(function(t,e){return s("div",{key:e},[s("TestResultItem",{attrs:{test:t}}),s("v-divider")],1)})),0)],1)],1)},te=[],ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-group",{scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",{staticClass:"py-2"},[s("v-icon",{attrs:{color:t.testColour}},[t._v(t._s(t.testIcon))])],1),s("v-list-item-content",{staticClass:"py-2"},[s("v-list-item-title",[t._v(" "+t._s(t.test.description)+" ")]),s("v-list-item-subtitle",[t._v(" "+t._s(t.test.mark)+" / "+t._s(t.test.out_of)+" marks")])],1)]},proxy:!0}])},[s("div",{staticClass:"pa-3",staticStyle:{color:"black","background-color":"#f5f5f5"}},[s("div",[s("div",{staticClass:"body-1"},[s("li",[t._v("Exit Code: "+t._s(t.test.exit_code)+" "),null==t.test.exit_code?s("span",[t._v("None (test timed out)")]):t._e()]),""!=t.test.output?s("div",[s("li",[t._v("Output: ")]),s("pre",[t._v(t._s(t.test.output))])]):t._e()])])])])},se=[],ae={name:"TestResultItem",props:{test:Object},computed:{testIcon(){return this.test.passed?"mdi-check":this.test.timed_out?"mdi-timer-off-outline":"mdi-close"},testColour(){return this.test.passed?"success":this.test.timed_out?"blue":"error"}}},re=ae,ie=s("56b0"),oe=Object(U["a"])(re,ee,se,!1,null,null,null),ne=oe.exports;E()(oe,{VIcon:B["a"],VListGroup:ie["a"],VListItemContent:N["a"],VListItemIcon:W["a"],VListItemSubtitle:N["b"],VListItemTitle:N["c"]});var le={name:"SearchableTests",components:{SearchBar:Jt,TestResultItem:ne},props:{tests:Array},data:()=>({searchTerm:""}),methods:{onSearchChange(t){this.searchTerm=t}},computed:{filteredTests(){return this.tests.filter(t=>{let e=t.description.toLowerCase();if(!this.searchTerm.startsWith(":")&&!this.searchTerm.startsWith("."))return e.includes(this.searchTerm.toLowerCase());let s="";return s+=t.passed?"passed":"failed",t.timed_out&&(s+="timed_out"),s.includes(this.searchTerm.slice(1).toLowerCase())})}}},ce=le,de=(s("a4a1"),Object(U["a"])(ce,Xt,te,!1,null,"3a4e2b80",null)),ue=de.exports;E()(de,{VDivider:O["a"],VList:J["a"],VListItemGroup:H["a"]});var me={name:"UserResult",props:{username:String},components:{SearchableTests:ue},data:()=>({loading:!1,result:null,downloading:!1}),beforeMount(){this.refreshResults()},watch:{username(){this.refreshResults()}},computed:{mobile(){return this.$store.state.isMobile},dirPath(){return this.result&&this.result.path?this.result.path:""}},methods:{async handleResult(t){this.loading=!0;let e=await t();try{this.result=JSON.parse(e.data),this.result.json=!0}catch(s){this.result={text:e.data},this.result.json=!1}this.result.path=e.path,this.result.marked=e.marked,this.result.message=e.message,this.loading=!1},refreshResults(){this.username&&(this.result=null,this.handleResult(()=>w.getStudentResults(this.username)))},async runTests(t){await this.handleResult(()=>w.runTestsSingle(this.username,t)),this.$store.dispatch("showSnackBar","Finished running tests!"),this.$emit("updateMarks",this.username,this.result.marks)},reDownload(){this.downloading=!0,w.downloadSingle(this.username,!1).then(t=>{this.downloading=!1,this.$store.dispatch("showSnackBar","Finished downloading files!")}).catch(t=>{this.downloading=!1})}}},pe=me,he=(s("aee6"),s("8e36")),ve=s("0fd9"),fe=Object(U["a"])(pe,Yt,Qt,!1,null,null,null),ge=fe.exports;E()(fe,{VAppBar:xt["a"],VBtn:rt["a"],VDivider:O["a"],VIcon:B["a"],VListGroup:ie["a"],VListItemContent:N["a"],VListItemIcon:W["a"],VListItemTitle:N["c"],VProgressCircular:ct["a"],VProgressLinear:he["a"],VRow:ve["a"],VSpacer:dt["a"],VToolbarTitle:Dt["a"]});var be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-white root2"},[s("SearchBar",{staticClass:"search pa-5 pb-0",attrs:{label:"Search users"},on:{searchChanged:t.onSearchChange}}),s("div",{attrs:{align:"center"}},[s("div",[s("v-btn",{staticClass:"ma-2",on:{click:function(e){return t.selectAll(!0)}}},[t._v(" Select All ")]),s("v-btn",{staticClass:"ma-2",attrs:{disabled:0==t.settings.length},on:{click:function(e){return t.selectAll(!1)}}},[t._v(" Unselect All ("+t._s(t.settings.length)+") ")])],1)]),0==this.items.length?s("div",{staticClass:"container infomessage"},[t._v(" No users found. Try downloading submissions first. ")]):t._e(),s("v-list",{staticClass:"userlist pa-0 my-2",attrs:{nav:""}},[s("v-list-item-group",{staticClass:"ma-1",attrs:{multiple:""},model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}},t._l(t.items,(function(e,a){return s("div",{key:a,attrs:{hidden:t.hidden(e)}},[s("v-list-item",{staticClass:"px-4 my-0 listitem",attrs:{value:a},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.active;return[s("v-list-item-avatar",[s("v-avatar",{attrs:{color:"#90CAF9",dark:""}},[t._v(" "+t._s(t.iconText(e.username))+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.username))]),e.marks?s("v-list-item-subtitle",[t._v(t._s(t.sum(e.marks))+" / "+t._s(t.totalMarks)+" marks")]):t._e(),e.marks?t._e():s("v-list-item-subtitle",[t._v(" Unmarked")])],1),s("v-spacer"),s("v-list-item-action",[s("v-checkbox",{attrs:{"input-value":r}})],1),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[s("v-list-item-icon",t._g(t._b({staticClass:"py-2",on:{click:function(s){return s.stopPropagation(),t.goToResult(e.username)}}},"v-list-item-icon",i,!1),r),[s("v-icon",{attrs:{color:"#90CAF9"}},[t._v("mdi-arrow-top-right-thin-circle-outline")])],1)]}}],null,!0)},[s("span",[t._v("Open Results")])])]}}],null,!0)}),s("v-divider")],1)})),0)],1)],1)},ke=[],_e={name:"Home",props:{items:Array},components:{SearchBar:Jt},data:()=>({searchTerm:"",settings:[]}),methods:{onSearchChange(t){this.searchTerm=t},sum:zt,iconText:Nt,hidden(t){let e=t.username.toLowerCase();if(!this.searchTerm.startsWith(":")&&!this.searchTerm.startsWith("."))return!e.includes(this.searchTerm.toLowerCase());let s="";return t.marks?(0===t.marks.length&&(s+="failed"),0==zt(t.marks)&&(s+="zero")):s+="unmarked",!s.includes(this.searchTerm.slice(1).toLowerCase())},getSelectedUsernames(){let t=this.settings.reduce((t,e)=>{let s=this.items[e].username;return t.includes(s)||t.push(this.items[e].username),t},[]);return t},selectAll(t){if(t){this.settings=[];for(let t=0;t<this.items.length;t++)this.settings.push(t)}else this.settings=[]},goToResult(t){this.$router.push("/results/"+t)}},computed:{totalMarks(){return this.$store.state.markerState.config.tests.reduce((t,e)=>t+e.mark,0)}}},Ce=_e,ye=(s("59af"),s("1800")),Se=Object(U["a"])(Ce,be,ke,!1,null,"2f9ca18c",null),je=Se.exports;E()(Se,{VAvatar:Gt["a"],VBtn:rt["a"],VCheckbox:nt["a"],VDivider:O["a"],VIcon:B["a"],VList:J["a"],VListItem:z["a"],VListItemAction:ye["a"],VListItemAvatar:qt["a"],VListItemContent:N["a"],VListItemGroup:H["a"],VListItemIcon:W["a"],VListItemSubtitle:N["b"],VListItemTitle:N["c"],VSpacer:dt["a"],VTooltip:X["a"]});var xe=s("512e"),we=(s("c1ea"),{name:"Home",props:{username:{type:String,default:""}},components:{SearchableUsers:Zt,MultiSelectUsers:je,UserResult:ge,Splitpanes:xe["Splitpanes"],Pane:xe["Pane"]},data:()=>({selectedUsername:"",loading:!0,items:[],ignoreFirstClick:!1}),methods:{onUserClick(t){this.ignoreFirstClick?this.ignoreFirstClick=!1:this.mobile?this.$router.push("/result/"+t):this.selectedUsername=t},updateMarks(t,e){this.items.forEach(s=>{s.username==t&&(s.marks=e)})}},computed:{mobile(){return this.$store.state.isMobile}},beforeMount(){w.getAllResults().then(t=>{this.loading=!1,this.items=t})},mounted(){this.username&&this.mobile?this.$router.replace("/result/"+this.username):this.mobile?this.ignoreFirstClick=!0:this.username&&(this.ignoreFirstClick=!0,this.selectedUsername=this.username)}}),Ve=we,Te=(s("2d36"),Object(U["a"])(Ve,Rt,Lt,!1,null,"e6aaa992",null)),De=Te.exports;E()(Te,{VProgressCircular:ct["a"]});var Me,Ae,Ie,Re,Le,$e,Fe,Ue,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toplevel",staticStyle:{"background-color":"#e0e0e0",height:"100%"}},[null!=t.allResults&&0==t.allResults.length?s("div",{staticClass:"container infomessage"},[t._v(" Error getting results / stats. Make sure submissions are downloaded and marked. "),s("v-btn",{staticClass:"ma-5 pa-5",on:{click:function(e){return t.$router.push("/")}}},[s("v-icon",{staticClass:"pr-2"},[t._v(" mdi-arrow-top-left-thick ")]),t._v(" Go to Dashboard ")],1)],1):t._e(),t.allResults&&t.stats?s("v-row",{staticClass:"pa-8",staticStyle:{height:"100%"}},[s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("div",{staticClass:"rounded-card ma-1 pa-4",attrs:{color:"#e0e0e0"}},[s("v-list-item-title",{staticClass:"headline text-center pa-3"},[t._v(" General Stats ")]),t.stats?s("GeneralStats",{staticClass:"pa-4",attrs:{stats:t.stats}}):t._e()],1)]),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("div",{staticClass:"rounded-card ma-1 pa-4",attrs:{color:"#e0e0e0"}},[s("v-list-item-title",{staticClass:"headline text-center pa-3"},[t._v(" Distribution ")]),t.allResults?s("MarkDistribution",{staticClass:"pa-4",attrs:{allResults:t.allResults}}):t._e()],1)]),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("div",{staticClass:"rounded-card ma-1 pa-4",attrs:{color:"#e0e0e0"}},[s("v-list-item-title",{staticClass:"headline text-center pa-3"},[t._v(" Compile Status ")]),t.stats?s("Donut",{staticClass:"pa-4",attrs:{labels:["Compiled","Failed"],values:[t.stats.compile_success,t.stats.compile_failed],colors:["green","red"]}}):t._e()],1)]),s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("div",{staticClass:"rounded-card ma-1 pa-4",attrs:{color:"#e0e0e0"}},[s("v-list-item-title",{staticClass:"headline text-center pa-3"},[t._v(" Testcase Stats ")]),t.allResults?s("PerTestBreakdown",{staticClass:"pa-4",attrs:{allResults:t.allResults,legend:""}}):t._e()],1)])],1):t._e()],1)},Ee=[],Oe=s("1fca"),Be={name:"Histogram",extends:Oe["a"],props:{allResults:Array},data:()=>({labels:[],data:[]}),mounted(){this.refreshChart(this.marks)},computed:{allMarksList(){return this.allResults.map(t=>t.marks?zt(t.marks):0)},compiledMarksList(){let t=this.allResults.filter(t=>t.marks&&t.marks.length>0);return t.map(t=>zt(t.marks))}},methods:{refreshChart(t){let e=this.computedData(this.allMarksList);this.renderChart({labels:e.labels,datasets:[{backgroundColor:"#"+((1<<24)*Math.random()|0).toString(16),data:e.data}]},{legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}})},computedData:function(t){let e=t.slice();e.sort((t,e)=>t-e);let s={data:[],labels:[]};for(let a=0;a<e.length;a++){let t=!1,r=0;for(let i=0;i<s.labels.length;i++)t||parseInt(s.labels[i])!==e[a]||(t=!0,r=i);t?s.data[r]++:(s.labels.push(e[a].toString()),s.data.push(1))}for(let a=0;a<this.labels.length;a++)s.labels[a]=s.labels[a].toString();return s}}},Je=Be,ze=Object(U["a"])(Je,Me,Ae,!1,null,null,null),Ne=ze.exports,He={name:"BarGraph",extends:Oe["a"],props:{allResults:Array},mounted(){this.refreshChart()},computed:{perTestData(){let t=this.allResults.filter(t=>t.marks&&t.marks.length>0),e={values:[],labels:[]};for(let s=0;s<t[0].marks.length;s++){let a=zt(t.map(t=>0==t.marks[s]));e.labels.push(s.toString()),e.values.push(a)}return e}},methods:{refreshChart(){this.renderChart({labels:this.perTestData.labels,datasets:[{label:"Number of students failed",backgroundColor:"#"+((1<<24)*Math.random()|0).toString(16),data:this.perTestData.values}]},{legend:{display:!0},scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{scaleLabel:{display:!0,labelString:"Test case number",fontSize:13}}]}})}}},We=He,Ge=Object(U["a"])(We,Ie,Re,!1,null,null,null),qe=Ge.exports,Ke={name:"BarGraph",extends:Oe["a"],props:{stats:Object},mounted(){this.refreshChart()},methods:{refreshChart(){this.renderChart({labels:["Mean","Median"],datasets:[{label:"All",backgroundColor:"#"+((1<<24)*Math.random()|0).toString(16),data:[(100*this.stats.all.mean/this.stats.out_of).toFixed(1),(100*this.stats.all.median/this.stats.out_of).toFixed(1)]},{label:"Compiled",backgroundColor:"#"+((1<<24)*Math.random()|0).toString(16),data:[(100*this.stats.compiled.mean/this.stats.out_of).toFixed(1),(100*this.stats.compiled.median/this.stats.out_of).toFixed(1)]}]},{legend:{display:!0},scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:100}}]}})}}},Ze=Ke,Ye=Object(U["a"])(Ze,Le,$e,!1,null,null,null),Qe=Ye.exports,Xe={name:"Donut",extends:Oe["b"],props:{values:Array,labels:Array,colors:{type:Array,default:()=>["green","red"]}},mounted(){this.refreshChart()},watch:{values(){this.refreshChart()}},methods:{refreshChart(){this.renderChart({labels:this.labels,datasets:[{title:"????",backgroundColor:this.colors,data:this.values}]})}}},ts=Xe,es=Object(U["a"])(ts,Fe,Ue,!1,null,null,null),ss=es.exports,as={data:()=>({stats:null,allResults:null}),components:{MarkDistribution:Ne,PerTestBreakdown:qe,GeneralStats:Qe,Donut:ss},computed:{allMarksList(){return this.allResults?this.allResults.map(t=>t.marks?zt(t.marks):0):null}},beforeMount(){w.getStats().then(t=>{console.log(t),this.stats=t}),w.getAllResults().then(t=>{this.allResults=t})}},rs=as,is=(s("f9b7"),s("62ad")),os=Object(U["a"])(rs,Pe,Ee,!1,null,"8b711d98",null),ns=os.exports;E()(os,{VBtn:rt["a"],VCol:is["a"],VIcon:B["a"],VListItemTitle:N["c"],VRow:ve["a"]});var ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root",attrs:{id:"inspire"}},[t.loading?s("div",{staticClass:"text-center mt-10"},[s("v-progress-circular",{attrs:{indeterminate:"",color:"green"}})],1):t._e(),t.config?s("div",{staticClass:"pa-10"},[s("v-alert",{staticClass:"mb-5",attrs:{type:"info",outlined:""}},[t._v(" For now this page is read-only, and does not update the configuration file. To make any changes, please update the configuration file manually and re-launch the marker. ")]),s("div",{staticClass:"display-1"},[t._v(" LMS Specific Configurations ")]),s("br"),s("v-form",{staticClass:"py-3"},[s("v-select",{attrs:{outlined:"",label:"LMS",items:t.lmsOptions,clearable:""},model:{value:t.config.lms,callback:function(e){t.$set(t.config,"lms",e)},expression:"config.lms"}}),s("v-text-field",{attrs:{outlined:"",label:"Base URL"},model:{value:t.config.base_url,callback:function(e){t.$set(t.config,"base_url",e)},expression:"config.base_url"}}),"canvas"==t.config.lms?s("v-text-field",{attrs:{outlined:"",label:"Course ID"},model:{value:t.config.course,callback:function(e){t.$set(t.config,"course",e)},expression:"config.course"}}):t._e(),s("v-text-field",{attrs:{outlined:"",label:"Assignment ID"},model:{value:t.config.assignment,callback:function(e){t.$set(t.config,"assignment",e)},expression:"config.assignment"}}),"markus"==t.config.lms?s("v-text-field",{attrs:{outlined:"",label:"Default Marking Criteria"},model:{value:t.config.default_criteria,callback:function(e){t.$set(t.config,"default_criteria",e)},expression:"config.default_criteria"}}):t._e(),s("v-textarea",{attrs:{outlined:"",color:"teal","auto-grow":""},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Files to download")]},proxy:!0}],null,!1,1530741249),model:{value:t.fileNamesString,callback:function(e){t.fileNamesString=e},expression:"fileNamesString"}})],1),s("v-divider"),s("v-divider"),s("v-divider"),s("div",{staticClass:"display-1 pt-5"},[t._v(" Compilation ")]),s("br"),s("v-form",{staticClass:"py-3"},[s("v-text-field",{attrs:{outlined:"",label:"Source directory"},model:{value:t.config.src_dir,callback:function(e){t.$set(t.config,"src_dir",e)},expression:"config.src_dir"}}),s("v-textarea",{attrs:{outlined:"",color:"teal",rows:"2","auto-grow":""},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Files/Dirs to import")]},proxy:!0}],null,!1,162203563),model:{value:t.importsString,callback:function(e){t.importsString=e},expression:"importsString"}}),s("v-textarea",{attrs:{outlined:"",color:"teal",rows:"2","auto-grow":""},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Compile Command")]},proxy:!0}],null,!1,2316422637),model:{value:t.config.compile,callback:function(e){t.$set(t.config,"compile",e)},expression:"config.compile"}}),s("v-textarea",{attrs:{outlined:"",color:"teal",rows:"2","auto-grow":""},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Compile Check Command")]},proxy:!0}],null,!1,3757412011),model:{value:t.config.compile_check,callback:function(e){t.$set(t.config,"compile_check",e)},expression:"config.compile_check"}}),s("v-text-field",{attrs:{outlined:"",label:"Compilation log file"},model:{value:t.config.compile_log,callback:function(e){t.$set(t.config,"compile_log",e)},expression:"config.compile_log"}})],1),s("v-divider"),s("v-divider"),s("v-divider"),s("div",{staticClass:"display-1 pt-5"},[t._v(" General ")]),s("br"),s("v-form",{staticClass:"py-3"},[s("v-text-field",{attrs:{outlined:"",label:"Marksheet"},model:{value:t.config.marksheet,callback:function(e){t.$set(t.config,"marksheet",e)},expression:"config.marksheet"}}),s("v-text-field",{attrs:{outlined:"",label:"Report file"},model:{value:t.config.report,callback:function(e){t.$set(t.config,"report",e)},expression:"config.report"}}),s("v-select",{attrs:{outlined:"",label:"Include compile log?",items:[!0,!1]},model:{value:t.config.include_compile_log,callback:function(e){t.$set(t.config,"include_compile_log",e)},expression:"config.include_compile_log"}}),s("v-textarea",{attrs:{outlined:"",color:"teal",rows:"2","auto-grow":""},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Report Header")]},proxy:!0}],null,!1,2715477098),model:{value:t.config.report_header,callback:function(e){t.$set(t.config,"report_header",e)},expression:"config.report_header"}})],1)],1):t._e()])},cs=[],ds={components:{},data:()=>({loading:!0,config:null,lmsOptions:["markus","canvas"],importsString:"",fileNamesString:""}),beforeMount(){w.getConfig().then(t=>{this.config=t,this.importsString=t.imports.join("\n"),t.file_names?this.fileNamesString=t.file_names.join("\n"):this.fileNamesString=t.file_name,this.loading=!1})}},us=ds,ms=(s("cd8f"),s("0798")),ps=s("4bd4"),hs=s("b974"),vs=s("a844"),fs=Object(U["a"])(us,ls,cs,!1,null,"21caab39",null),gs=fs.exports;E()(fs,{VAlert:ms["a"],VDivider:O["a"],VForm:ps["a"],VProgressCircular:ct["a"],VSelect:hs["a"],VTextField:kt["a"],VTextarea:vs["a"]});var bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root pa-5"},[s("v-row",[s("v-col",{staticClass:"split left ma-0 pa-5 pb-0",attrs:{cols:"12",sm:"6",lg:"4"}},[s("v-sheet",{staticClass:"py-6 controls",attrs:{align:"center"}},[s("v-btn",{attrs:{color:"#90CAF9"},on:{click:t.prepareClick}},[s("v-icon",[t._v("mdi-qrcode-edit")]),s("v-spacer"),t._v("Prepare Submissions"),s("v-spacer")],1),s("br"),s("v-btn",{staticClass:"mb-2",attrs:{color:"#90CAF9"},on:{click:function(e){return t.runClick(!1)}}},[s("v-icon",[t._v("mdi-code-tags-check")]),s("v-spacer"),t._v("Run tests"),s("v-spacer")],1),s("br"),t.config.lms&&t.config.lms.length>0?s("div",{staticClass:"lms-buttons"},[s("v-divider",{staticClass:"my-2"}),s("v-btn",{attrs:{color:"#bbd565"},on:{click:t.downloadClick}},[s("v-icon",[t._v("mdi-download")]),s("v-spacer"),t._v("Download Submissions"),s("v-spacer")],1),s("br"),s("v-btn",{attrs:{color:"#bbd565"},on:{click:t.uploadMarksClick}},[s("v-icon",[t._v("mdi-counter")]),s("v-spacer"),t._v("Upload Marks"),s("v-spacer")],1),s("br"),s("v-btn",{attrs:{color:"#bbd565"},on:{click:t.uploadReportsClick}},[s("v-icon",[t._v("mdi-file-upload")]),s("v-spacer"),t._v("Upload Reports"),s("v-spacer")],1),s("br"),"markus"==t.config.lms?s("div",[s("v-btn",{attrs:{color:"#bbd565"},on:{click:function(e){t.setStatusDialog=!0}}},[s("v-icon",[t._v("mdi-list-status")]),s("v-spacer"),t._v("Set Status"),s("v-spacer")],1),s("br")],1):t._e()],1):t._e(),s("v-divider",{staticClass:"my-2"}),s("v-btn",{staticClass:"error",on:{click:t.stopJobClick}},[s("v-icon",[t._v("mdi-close")]),s("v-spacer"),t._v("Stop Current Job"),s("v-spacer"),s("v-icon",[t._v("mdi-close")])],1),s("br")],1),s("JobTracker",{ref:"tracker",attrs:{refreshInterval:500},on:{done:t.jobDoneHandler}})],1),s("v-col",{staticClass:"split right pa-5",attrs:{cols:"12",sm:"6",lg:"8"}},[t.loading?s("v-progress-circular",{staticClass:"ma-10",staticStyle:{"padding-top":"40%"},attrs:{indeterminate:"",color:"green",size:"50"}}):t._e(),t.loading?t._e():s("v-sheet",{staticClass:"pa-1 controls mb-0",attrs:{rounded:"lg",align:"center"}},[s("MultiSelectUsers",{ref:"userSelector",staticClass:"controls",attrs:{items:t.items}})],1)],1)],1),s("v-dialog",{attrs:{width:"500"},model:{value:t.setStatusDialog,callback:function(e){t.setStatusDialog=e},expression:"setStatusDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Set status")]),s("v-card-text",{staticClass:"mt-4",staticStyle:{"font-size":"12pt"}},[t._v(" Please select the status to set ")]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",width:"200",text:""},on:{click:function(e){return t.statusClick("complete")}}},[t._v("Complete")]),s("v-spacer"),s("v-btn",{attrs:{color:"primary",width:"200",text:""},on:{click:function(e){return t.statusClick("incomplete")}}},[t._v("Incomplete")]),s("v-spacer")],1)],1)],1)],1)},ks=[],_s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.job?s("v-sheet",{staticClass:"pa-6 controls mt-5 mb-0",attrs:{align:"center"}},[s("div",{staticClass:"rounded-card progcard ma-1",attrs:{color:"#e0e0e0"}},[s("div",{staticClass:"headline text-center"},[t._v(" "+t._s(t.job.name)+" ")]),s("v-progress-linear",{staticClass:"mt-5",attrs:{value:t.percentDone,color:t.jobColor,height:"25",indeterminate:0===t.percentDone&&!t.job.done},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.value;return[!t.job.done&&t.percentDone>0?s("strong",[t._v(t._s(Math.ceil(a))+"%")]):t._e(),t.job.done&&!t.job.killed?s("strong",[t._v("Completed")]):t._e(),t.job.killed?s("strong",[t._v("Stopped")]):t._e()]}}],null,!1,1589374249)}),s("v-btn",{staticClass:"mt-4",attrs:{dark:"",width:"200",light:""},on:{click:t.showDialog}},[t._v(" View logs ")])],1)]):t._e()},Cs=[],ys={name:"JobTracker",props:{refreshInterval:{type:Number,default:500}},data:()=>({job:null,dialog:!1}),methods:{async refreshProgress(){this.job=await w.getJob(),this.$store.commit("setErrorMessage",this.logsText),this.job&&this.job.done?this.onFinish():setTimeout(()=>{this.refreshProgress()},this.refreshInterval)},showDialog(){this.$store.dispatch("showErrorDialog",{message:this.logsText,title:this.job.name+" (Logs)"})},onFinish(){this.job.killed?this.$emit("done","Job was Stopped",this.job.type):this.job.errors?this.$emit("done","Job finished with errors",this.job.type):this.$emit("done","Job finished",this.job.type),this.job.errors&&this.showDialog()}},computed:{logsText(){return this.job&&this.job.logs?this.job.logs:"No logs generated for the job."},jobColor(){return this.job.killed?"red lighten-4":this.job.errors?"orange lighten-4":"#bbd565"},percentDone(){return 0==this.job.total?0:100*this.job.progress/this.job.total}}},Ss=ys,js=(s("2394"),s("8dd9")),xs=Object(U["a"])(Ss,_s,Cs,!1,null,"61966cdb",null),ws=xs.exports;E()(xs,{VBtn:rt["a"],VProgressLinear:he["a"],VSheet:js["a"]});var Vs={components:{MultiSelectUsers:je,JobTracker:ws},computed:{config(){return this.$store.state.markerState.config}},data:()=>({loading:!0,items:null,job:null,snackbar:!1,snackbarText:"",setStatusDialog:!1}),methods:{selectedUsers(){return this.$refs.userSelector.getSelectedUsernames()},downloadClick(){this.runJob(()=>w.downloadAll(this.selectedUsers()))},prepareClick(t){this.runJob(()=>w.prepareAll(this.selectedUsers()))},runClick(t){this.runJob(()=>w.runTestsAll(this.selectedUsers(),t))},uploadMarksClick(t){this.runJob(()=>w.uploadMarksAll(this.selectedUsers()))},uploadReportsClick(t){this.runJob(()=>w.uploadReportsAll(this.selectedUsers()))},statusClick(t){this.setStatusDialog=!1,this.runJob(()=>w.setStatusAll(t,this.selectedUsers()))},async stopJobClick(){await w.stopJob()},async jobDoneHandler(t,e=""){this.$store.dispatch("showSnackBar",t),"download"!=e&&"run"!=e||(this.loading=!0,w.getAllResults().then(t=>{this.loading=!1,this.items=t}))},async runJob(t){try{await t(),this.$refs.tracker.refreshProgress()}catch(e){}}},beforeMount(){w.getAllResults().then(t=>{this.loading=!1,this.items=t})}},Ts=Vs,Ds=(s("ef96"),Object(U["a"])(Ts,bs,ks,!1,null,"4ace0152",null)),Ms=Ds.exports;E()(Ds,{VBtn:rt["a"],VCard:it["a"],VCardActions:ot["a"],VCardText:ot["b"],VCardTitle:ot["c"],VCol:is["a"],VDialog:lt["a"],VDivider:O["a"],VIcon:B["a"],VProgressCircular:ct["a"],VRow:ve["a"],VSheet:js["a"],VSpacer:dt["a"]}),a["a"].use(It["a"]);const As=[{path:"/",name:"Home",component:Ms},{path:"/results",name:"Results",component:De},{path:"/results/:username",name:"User Results",component:De,props:!0},{path:"/result/:username",name:"Results routing",component:ge,props:!0},{path:"/settings",name:"settings",component:gs},{path:"/stats",name:"Stats",component:ns},{path:"/explorer",name:"Explorer",component:pt}],Is=new It["a"]({routes:As});Is.beforeEach(async(t,e,s)=>{"/explorer"==t.path&&s(),V.state.markerState.loaded||await V.dispatch("fetchMarkerState",()=>w.getMarkerState()),V.state.markerState.valid?s():s("/explorer")});var Rs=Is,Ls=s("f309");a["a"].use(Ls["a"]);var $s=new Ls["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:Rs,store:V,vuetify:$s,render:t=>t(At)}).$mount("#app")},"59af":function(t,e,s){"use strict";s("bc8d")},7011:function(t,e,s){},7683:function(t,e,s){},"802f":function(t,e,s){},9704:function(t,e,s){"use strict";s("802f")},"97c5":function(t,e,s){},a4a1:function(t,e,s){"use strict";s("0894")},ad3f:function(t,e,s){},ad58:function(t,e,s){"use strict";s("3fb2")},aee6:function(t,e,s){"use strict";s("7683")},b361:function(t,e,s){},bc8d:function(t,e,s){},cd8f:function(t,e,s){"use strict";s("b361")},d3f2:function(t,e,s){},d572:function(t,e,s){},e223:function(t,e,s){"use strict";s("12fb")},ef96:function(t,e,s){"use strict";s("d3f2")},f9b7:function(t,e,s){"use strict";s("013b")}});
//# sourceMappingURL=app.a8a00247.js.map